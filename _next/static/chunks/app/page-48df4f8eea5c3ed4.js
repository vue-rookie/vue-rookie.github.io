(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5865:function(e,t,a){Promise.resolve().then(a.bind(a,8214)),Promise.resolve().then(a.bind(a,7681)),Promise.resolve().then(a.bind(a,5467)),Promise.resolve().then(a.bind(a,6522)),Promise.resolve().then(a.bind(a,3200)),Promise.resolve().then(a.bind(a,3142)),Promise.resolve().then(a.bind(a,8033)),Promise.resolve().then(a.bind(a,4558))},8214:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(2384),r=a(7797),l=a(6857),n=a(6752),i=a(6736),c=a(2672),d=a(4576),o=a(7944),u=a(4588),h=a(5431),m=a(4212);function x(){let[e,t]=(0,r.useState)("mortgage"),[a,x]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[b,N]=(0,r.useState)(""),[y,C]=(0,r.useState)(""),[k,S]=(0,r.useState)(""),[z,R]=(0,r.useState)("cm"),[F,E]=(0,r.useState)("m"),[T,P]=(0,r.useState)(""),[I,U]=(0,r.useState)(""),[D,Z]=(0,r.useState)("CNY"),[Q,_]=(0,r.useState)("USD"),[O,L]=(0,r.useState)(""),[A,B]=(0,r.useState)(""),[V,M]=(0,r.useState)("");return(0,s.jsxs)(l.Zb,{className:"mt-4",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"多功能计算器"}),(0,s.jsx)(l.SZ,{children:"房贷计算、个税计算、单位换算、汇率转换、金额转大写等"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,s.jsxs)(c.z,{variant:"mortgage"===e?"default":"outline",size:"sm",onClick:()=>t("mortgage"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"房贷计算"]}),(0,s.jsxs)(c.z,{variant:"tax"===e?"default":"outline",size:"sm",onClick:()=>t("tax"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"个税计算"]}),(0,s.jsxs)(c.z,{variant:"unit"===e?"default":"outline",size:"sm",onClick:()=>t("unit"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"单位换算"]}),(0,s.jsxs)(c.z,{variant:"currency"===e?"default":"outline",size:"sm",onClick:()=>t("currency"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),"汇率转换"]}),(0,s.jsxs)(c.z,{variant:"amount"===e?"default":"outline",size:"sm",onClick:()=>t("amount"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),"金额转大写"]})]}),"mortgage"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"loanAmount",children:"贷款金额 (元)"}),(0,s.jsx)(n.I,{id:"loanAmount",type:"number",value:a,onChange:e=>x(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"interestRate",children:"年利率 (%)"}),(0,s.jsx)(n.I,{id:"interestRate",type:"number",value:g,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"loanTerm",children:"贷款期限 (年)"}),(0,s.jsx)(n.I,{id:"loanTerm",type:"number",value:p,onChange:e=>j(e.target.value)})]}),(0,s.jsx)(c.z,{onClick:()=>{let e=Number.parseFloat(a),t=Number.parseFloat(g)/100/12,s=12*Number.parseFloat(p);e&&t&&s&&w("月供: \xa5".concat((e*t*Math.pow(1+t,s)/(Math.pow(1+t,s)-1)).toFixed(2)))},children:"计算"}),v&&(0,s.jsx)("div",{className:"p-3 bg-muted rounded-md text-center font-medium",children:v})]}),"tax"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"income",children:"月收入 (元)"}),(0,s.jsx)(n.I,{id:"income",type:"number",value:b,onChange:e=>N(e.target.value)})]}),(0,s.jsx)(c.z,{onClick:()=>{let e=Number.parseFloat(b),t=0;t=e<=5e3?0:e<=8e3?(e-5e3)*.03:e<=17e3?(e-5e3)*.1-210:e<=3e4?(e-5e3)*.2-1410:e<=4e4?(e-5e3)*.25-2660:e<=6e4?(e-5e3)*.3-4410:e<=85e3?(e-5e3)*.35-7160:(e-5e3)*.45-15160,C("应缴个税: \xa5".concat(t.toFixed(2)))},children:"计算"}),y&&(0,s.jsx)("div",{className:"p-3 bg-muted rounded-md text-center font-medium",children:y})]}),"unit"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"unitValue",children:"数值"}),(0,s.jsx)(n.I,{id:"unitValue",type:"number",value:k,onChange:e=>S(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"fromUnit",children:"从"}),(0,s.jsxs)(d.Ph,{value:z,onValueChange:R,children:[(0,s.jsx)(d.i4,{id:"fromUnit",children:(0,s.jsx)(d.ki,{placeholder:"选择单位"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"cm",children:"厘米 (cm)"}),(0,s.jsx)(d.Ql,{value:"m",children:"米 (m)"}),(0,s.jsx)(d.Ql,{value:"km",children:"千米 (km)"}),(0,s.jsx)(d.Ql,{value:"inch",children:"英寸 (inch)"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"toUnit",children:"到"}),(0,s.jsxs)(d.Ph,{value:F,onValueChange:E,children:[(0,s.jsx)(d.i4,{id:"toUnit",children:(0,s.jsx)(d.ki,{placeholder:"选择单位"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"cm",children:"厘米 (cm)"}),(0,s.jsx)(d.Ql,{value:"m",children:"米 (m)"}),(0,s.jsx)(d.Ql,{value:"km",children:"千米 (km)"}),(0,s.jsx)(d.Ql,{value:"inch",children:"英寸 (inch)"})]})]})]})]}),(0,s.jsx)(c.z,{onClick:()=>{let e=Number.parseFloat(k);if(isNaN(e))return;let t={cm:{m:.01,km:1e-5,inch:.393701},m:{cm:100,km:.001,inch:39.3701},km:{cm:1e5,m:1e3,inch:39370.1},inch:{cm:2.54,m:.0254,km:254e-7}};if(z in t&&F in t[z]){let a=e*t[z][F];P("".concat(e," ").concat(z," = ").concat(a," ").concat(F))}},children:"转换"}),T&&(0,s.jsx)("div",{className:"p-3 bg-muted rounded-md text-center font-medium",children:T})]}),"currency"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"currencyValue",children:"金额"}),(0,s.jsx)(n.I,{id:"currencyValue",type:"number",value:I,onChange:e=>U(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"fromCurrency",children:"从"}),(0,s.jsxs)(d.Ph,{value:D,onValueChange:Z,children:[(0,s.jsx)(d.i4,{id:"fromCurrency",children:(0,s.jsx)(d.ki,{placeholder:"选择货币"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"CNY",children:"人民币 (CNY)"}),(0,s.jsx)(d.Ql,{value:"USD",children:"美元 (USD)"}),(0,s.jsx)(d.Ql,{value:"EUR",children:"欧元 (EUR)"}),(0,s.jsx)(d.Ql,{value:"JPY",children:"日元 (JPY)"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"toCurrency",children:"到"}),(0,s.jsxs)(d.Ph,{value:Q,onValueChange:_,children:[(0,s.jsx)(d.i4,{id:"toCurrency",children:(0,s.jsx)(d.ki,{placeholder:"选择货币"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"CNY",children:"人民币 (CNY)"}),(0,s.jsx)(d.Ql,{value:"USD",children:"美元 (USD)"}),(0,s.jsx)(d.Ql,{value:"EUR",children:"欧元 (EUR)"}),(0,s.jsx)(d.Ql,{value:"JPY",children:"日元 (JPY)"})]})]})]})]}),(0,s.jsx)(c.z,{onClick:()=>{let e=Number.parseFloat(I);if(isNaN(e))return;let t={CNY:{USD:.14,EUR:.13,JPY:20.27},USD:{CNY:7.14,EUR:.93,JPY:144.79},EUR:{CNY:7.68,USD:1.08,JPY:155.69},JPY:{CNY:.049,USD:.0069,EUR:.0064}};if(D in t&&Q in t[D]){let a=e*t[D][Q];L("".concat(e," ").concat(D," = ").concat(a.toFixed(2)," ").concat(Q))}},children:"转换"}),O&&(0,s.jsx)("div",{className:"p-3 bg-muted rounded-md text-center font-medium",children:O})]}),"amount"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"amountValue",children:"数字金额"}),(0,s.jsx)(n.I,{id:"amountValue",type:"text",placeholder:"请输入数字金额，如: 3456.78",value:A,onChange:e=>B(e.target.value)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"支持最大金额: 9999亿元，自动四舍五入到分"})]}),(0,s.jsx)(c.z,{onClick:()=>{let e=Number.parseFloat(A);if(isNaN(e)){M("请输入有效的数字金额");return}if(e>999999999999.99){M("金额超出处理范围");return}let t=(Math.round(100*e)/100).toString().split("."),a=t[0],s=t.length>1?t[1].padEnd(2,"0").substring(0,2):"00",r=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],l=["","拾","佰","仟","万","拾","佰","仟","亿","拾","佰","仟"],n=["角","分"],i="",c=0;for(let e=0;e<a.length;e++){let t=parseInt(a[e]),s=a.length-e-1;0===t?(c++,(4===s||8===s)&&(i+=l[s],c=0)):(c>0&&(i+="零",c=0),i+=r[t]+l[s])}let d="";for(let e=0;e<s.length;e++){let t=parseInt(s[e]);0!==t&&(d+=r[t]+n[e])}let o="";i&&(o+=i+"元"),d?o+=d:o+="整","0"===a&&"00"===s&&(o="零元整"),M(o)},children:"转换为大写金额"}),V&&(0,s.jsx)("div",{className:"p-3 bg-muted rounded-md text-center font-medium break-words",children:V})]})]})})]})}},7681:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(2384),r=a(7797),l=a(6857),n=a(2672),i=a(4576),c=a(4212),d=a(2519),o=a(7667),u=a(8638),h=a(45),m=a(2834),x=a(1811);function g(){let[e,t]=(0,r.useState)("document"),[a,g]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[j,v]=(0,r.useState)("docx"),[w,b]=(0,r.useState)(!1),[N,y]=(0,r.useState)(0),[C,k]=(0,r.useState)(null),[S,z]=(0,r.useState)(""),[R,F]=(0,r.useState)(!1),E=(0,r.useRef)(null),T=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(window.pdfjsLib){F(!0);return}let e=document.createElement("script");return e.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js",e.async=!0,e.onload=()=>{console.log("PDF.js 脚本已加载"),F(!0)},e.onerror=e=>{console.error("PDF.js 脚本加载失败:",e),z("PDF转换引擎加载失败，请刷新页面重试")},document.body.appendChild(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}},[]);let P=e=>{switch(t(e),g(null),p(""),y(0),k(null),z(""),e){case"document":v("docx");break;case"image":v("jpg");break;case"video":v("mp4");break;case"audio":v("mp3")}},I=t=>{if(z(""),k(null),t.target&&t.target.files&&t.target.files[0]){let a=t.target.files[0],s=!1;switch(e){case"document":s="application/pdf"===a.type;break;case"image":s=a.type.startsWith("image/");break;case"video":s=a.type.startsWith("video/");break;case"audio":s=a.type.startsWith("audio/")}if(!s){z("文件类型不支持，请选择正确的文件类型");return}g(a),p(a.name)}},U=async()=>{if(!R||!window.pdfjsLib){z("PDF转换引擎尚未加载，请稍候再试"),b(!1);return}try{let e=new FileReader;e.onload=async e=>{try{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result,s=window.pdfjsLib.getDocument({data:a});s.onProgress=e=>{e.total>0&&y(Math.min(30,e.loaded/e.total*30))};let r=await s.promise,l=r.numPages;if("txt"===j){let e="";for(let t=1;t<=l;t++){y(30+t/l*50);let a=await r.getPage(t),s=(await a.getTextContent()).items.map(e=>e.str);e+=s.join(" ")+"\n\n"}let t=new Blob([e],{type:"text/plain;charset=utf-8"});k(t),y(100),b(!1)}else if("jpg"===j){if(!T.current)throw Error("Canvas元素不存在");let e=T.current,t=e.getContext("2d"),a=[];for(let s=1;s<=l;s++){y(30+s/l*60);let n=await r.getPage(s),i=n.getViewport({scale:1.5});e.width=i.width,e.height=i.height,await n.render({canvasContext:t,viewport:i}).promise;let c=e.toDataURL("image/jpeg",.8);a.push(c)}if(1===a.length){let e=await fetch(a[0]),t=await e.blob();k(t)}else{let e=await fetch(a[0]),t=await e.blob();k(t),setTimeout(()=>{alert("注意：这是一个演示版本，只转换了PDF的第一页。在实际应用中，应该创建包含所有页面的ZIP文件。")},500)}y(100),b(!1)}else if("docx"===j){let e="",t=[];for(let e=1;e<=l;e++){y(30+e/l*50);let a=await r.getPage(e),s=a.getViewport({scale:1});s.width;let n=s.height,i=await a.getTextContent(),c=[];i.items.forEach(e=>{c.push({x:e.transform[4],y:n-e.transform[5],width:e.width,height:e.height,text:e.str})}),c.sort((e,t)=>12>Math.abs(e.y-t.y)?e.x-t.x:e.y-t.y);let d=-1,o="";c.forEach((e,a)=>{-1===d||e.y-c[a-1].y>12?(-1!==d&&(t.push(o),o=""),d=e.y):e.x-(c[a-1].x+c[a-1].width)>12&&(o+=" "),o+=e.text}),o&&t.push(o),t.push("\n----- 第 "+e+" 页 -----\n")}e=t.join("\n");let a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});k(a),setTimeout(()=>{alert("注意：这是一个演示版本，生成的DOCX文件实际上是格式化文本内容。为了获得完整的格式转换效果，建议使用专业的PDF转DOCX API或桌面软件。")},500),y(100),b(!1)}}catch(t){console.error("PDF处理错误:",t);let e=t instanceof Error?t.message:"未知错误";z("PDF处理错误: ".concat(e)),b(!1)}},e.onerror=e=>{console.error("文件读取错误:",e),z("文件读取错误，请重试"),b(!1)},e.readAsArrayBuffer(a)}catch(t){console.error("PDF转换错误:",t);let e=t instanceof Error?t.message:"未知错误";z("PDF转换错误: ".concat(e)),b(!1)}},D=async()=>{try{let e=new Image;e.crossOrigin="anonymous",e.onload=()=>{let t;let a=document.createElement("canvas"),s=a.getContext("2d");if(!s)throw Error("无法创建Canvas上下文");switch(a.width=e.width,a.height=e.height,s.drawImage(e,0,0),j){case"jpg":default:t="image/jpeg";break;case"png":t="image/png";break;case"webp":t="image/webp";break;case"gif":t="image/gif",alert("注意：这是一个演示版本，GIF转换简化为静态图像。在实际应用中，应使用专业的GIF转换库。")}a.toBlob(e=>{e?(k(e),y(100)):z("图像转换失败"),b(!1)},t,.8)},e.onerror=e=>{console.error("图像加载错误:",e),z("图像加载错误，请重试"),b(!1)};let t=new FileReader;t.onload=t=>{t.target&&t.target.result&&(e.src=t.target.result,y(30))},t.readAsDataURL(a)}catch(t){console.error("图像转换错误:",t);let e=t instanceof Error?t.message:"未知错误";z("图像转换错误: ".concat(e)),b(!1)}},Z=()=>{let e=setInterval(()=>{y(e=>e>=100?(t(),100):e+5)},150),t=()=>{clearInterval(e),b(!1);let t=Q(j);a&&k(new Blob([a],{type:t})),setTimeout(()=>{alert("注意：这是一个演示版本，实际上没有转换文件格式。在实际应用中，应使用专业的视频/音频转换API。")},500)}},Q=e=>({pdf:"application/pdf",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",txt:"text/plain;charset=utf-8",jpg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",mp4:"video/mp4",mov:"video/quicktime",mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg"})[e]||"application/octet-stream";return(0,s.jsxs)(l.Zb,{className:"mt-4",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"文件格式转换器"}),(0,s.jsx)(l.SZ,{children:"PDF转Word/图片、视频转GIF、音频格式转换"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,s.jsxs)(n.z,{variant:"document"===e?"default":"outline",size:"sm",onClick:()=>P("document"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"文档"]}),(0,s.jsxs)(n.z,{variant:"image"===e?"default":"outline",size:"sm",onClick:()=>P("image"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),"图片"]}),(0,s.jsxs)(n.z,{variant:"video"===e?"default":"outline",size:"sm",onClick:()=>P("video"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"视频"]}),(0,s.jsxs)(n.z,{variant:"audio"===e?"default":"outline",size:"sm",onClick:()=>P("audio"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"音频"]})]}),S&&(0,s.jsx)(x.bZ,{variant:"destructive",children:(0,s.jsx)(x.X,{children:S})}),(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsx)("div",{className:"border-2 border-dashed rounded-md p-6 flex flex-col items-center justify-center",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]){e.dataTransfer.files[0];let t=document.createElement("input");t.type="file",Object.defineProperty(t,"files",{value:e.dataTransfer.files}),I({target:t})}},children:a?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:f}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["document"===e&&"PDF文档","image"===e&&"".concat(a.type.split("/")[1].toUpperCase()," 图片"),"video"===e&&"".concat(a.type.split("/")[1].toUpperCase()," 视频"),"audio"===e&&"".concat(a.type.split("/")[1].toUpperCase()," 音频")," - ".concat((a.size/1024/1024).toFixed(2)," MB")]}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>{g(null),p(""),k(null)},children:"移除"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["document"===e&&"拖放PDF文件到这里或点击选择","image"===e&&"拖放图片文件到这里或点击选择","video"===e&&"拖放视频文件到这里或点击选择","audio"===e&&"拖放音频文件到这里或点击选择"]}),(0,s.jsx)(n.z,{variant:"outline",onClick:()=>{E.current&&E.current.click()},children:"选择文件"}),(0,s.jsx)("input",{ref:E,type:"file",className:"hidden",onChange:I,accept:"document"===e?".pdf":"image"===e?".jpg,.jpeg,.png,.gif,.webp":"video"===e?".mp4,.mov,.avi,.webm":".mp3,.wav,.ogg,.aac"})]})}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"输出格式"}),(0,s.jsxs)(i.Ph,{value:j,onValueChange:v,children:[(0,s.jsx)(i.i4,{children:(0,s.jsx)(i.ki,{placeholder:"选择输出格式"})}),(0,s.jsxs)(i.Bw,{children:["document"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ql,{value:"docx",children:"Word (DOCX)"}),(0,s.jsx)(i.Ql,{value:"txt",children:"文本 (TXT)"}),(0,s.jsx)(i.Ql,{value:"jpg",children:"图片 (JPG)"})]}),"image"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ql,{value:"jpg",children:"JPG"}),(0,s.jsx)(i.Ql,{value:"png",children:"PNG"}),(0,s.jsx)(i.Ql,{value:"gif",children:"GIF"}),(0,s.jsx)(i.Ql,{value:"webp",children:"WEBP"})]}),"video"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ql,{value:"mp4",children:"MP4"}),(0,s.jsx)(i.Ql,{value:"gif",children:"GIF"}),(0,s.jsx)(i.Ql,{value:"mov",children:"MOV"})]}),"audio"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ql,{value:"mp3",children:"MP3"}),(0,s.jsx)(i.Ql,{value:"wav",children:"WAV"}),(0,s.jsx)(i.Ql,{value:"ogg",children:"OGG"})]})]})]})]}),(0,s.jsx)(n.z,{onClick:()=>{a&&(b(!0),y(0),z(""),"document"===e?U():"image"===e?D():("video"===e||"audio"===e)&&Z())},disabled:w||"document"===e&&!R,children:w?"转换中...":"开始转换"}),w&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(m.E,{value:N,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:[N,"%"]})]}),C&&(0,s.jsxs)(n.z,{variant:"outline",onClick:()=>{if(!C)return;let e=URL.createObjectURL(C),t=document.createElement("a");t.href=e,t.download="".concat(f.split(".")[0],".").concat(j),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)},className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),"下载转换后的文件 (.",j,")"]})]})]})]})}),(0,s.jsx)("canvas",{ref:T,className:"hidden",width:"800",height:"600"})]})}},5467:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(2384),r=a(7797),l=a(6857),n=a(2672),i=a(6752),c=a(6736),d=a(5205),o=a(4576),u=a(4558),h=a(1811),m=a(1391),x=a(1110),g=a(4631),f=a(2364),p=a(45);function j(){let[e,t]=(0,r.useState)("GET"),[a,j]=(0,r.useState)(""),[v,w]=(0,r.useState)([]),[b,N]=(0,r.useState)([]),[y,C]=(0,r.useState)("none"),[k,S]=(0,r.useState)(""),[z,R]=(0,r.useState)([]),[F,E]=(0,r.useState)(""),[T,P]=(0,r.useState)({}),[I,U]=(0,r.useState)(""),[D,Z]=(0,r.useState)(!1),[Q,_]=(0,r.useState)(""),[O,L]=(0,r.useState)(null),[A,B]=(0,r.useState)([]),V=(0,r.useRef)(null),M=e=>{let t=[...v];t.splice(e,1),w(t)},Y=(e,t,a)=>{let s=[...v];s[e]={...s[e],[t]:a},w(s)},W=(e,t,a)=>{let s=[...b];s[e]={...s[e],[t]:a},N(s)},G=e=>{let t=[...b];t.splice(e,1),N(t)},q=(e,t,a)=>{let s=[...z];s[e]={...s[e],[t]:a},R(s)},X=e=>{let t=[...z];t.splice(e,1),R(t)},H=()=>{if(!a)return"";let e=b.filter(e=>""!==e.key.trim());if(0===e.length)return a;let t=new URL(a.startsWith("http")?a:"http://".concat(a));return e.forEach(e=>{t.searchParams.append(e.key,e.value)}),t.toString()},J=async()=>{if(!a){_("请输入URL");return}Z(!0),_(""),E(""),U(""),L(null);try{let t=Date.now(),a=H(),s={},r="";if(v.forEach(e=>{e.key.trim()&&(s[e.key]=e.value)}),"raw"===y)r=k,s["Content-Type"]||(s["Content-Type"]="application/json");else if("form"===y){let e=new FormData;z.forEach(t=>{t.key.trim()&&e.append(t.key,t.value)}),r=e,s["Content-Type"]||(s["Content-Type"]="multipart/form-data")}let l=await fetch(a,{method:e,headers:s,body:"GET"!==e?r:void 0}),n=Date.now();L(n-t);let i={};l.headers.forEach((e,t)=>{i[t]=e}),P(i),U("".concat(l.status," ").concat(l.statusText));let c=await l.text();E(c||""),B(t=>[{method:e,url:a,timestamp:new Date().toISOString(),status:l.status},...t])}catch(e){console.error("请求失败:",e),_(e instanceof Error?e.message:"请求失败"),E("")}finally{Z(!1)}};return(0,s.jsxs)(l.Zb,{className:"mt-4",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"HTTP请求工具"}),(0,s.jsx)(l.SZ,{children:"模拟HTTP请求，测试API接口"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[Q&&(0,s.jsx)(h.bZ,{variant:"destructive",children:(0,s.jsx)(h.X,{children:Q})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"w-1/4",children:(0,s.jsxs)(o.Ph,{value:e,onValueChange:t,children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{placeholder:"请求方法"})}),(0,s.jsxs)(o.Bw,{children:[(0,s.jsx)(o.Ql,{value:"GET",children:"GET"}),(0,s.jsx)(o.Ql,{value:"POST",children:"POST"}),(0,s.jsx)(o.Ql,{value:"PUT",children:"PUT"}),(0,s.jsx)(o.Ql,{value:"DELETE",children:"DELETE"}),(0,s.jsx)(o.Ql,{value:"PATCH",children:"PATCH"}),(0,s.jsx)(o.Ql,{value:"HEAD",children:"HEAD"}),(0,s.jsx)(o.Ql,{value:"OPTIONS",children:"OPTIONS"})]})]})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(i.I,{placeholder:"输入请求URL",value:a,onChange:e=>j(e.target.value)})}),(0,s.jsxs)(n.z,{onClick:J,disabled:D,className:"flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),D?"发送中...":"发送请求"]})]}),(0,s.jsxs)(u.Tabs,{defaultValue:"params",children:[(0,s.jsxs)(u.TabsList,{className:"grid grid-cols-4",children:[(0,s.jsx)(u.TabsTrigger,{value:"params",children:"查询参数"}),(0,s.jsx)(u.TabsTrigger,{value:"headers",children:"请求头"}),(0,s.jsx)(u.TabsTrigger,{value:"body",children:"请求体"}),(0,s.jsx)(u.TabsTrigger,{value:"history",children:"历史记录"})]}),(0,s.jsxs)(u.TabsContent,{value:"params",className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid gap-2",children:b.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(i.I,{placeholder:"参数名",value:e.key,onChange:e=>W(t,"key",e.target.value),className:"flex-1"}),(0,s.jsx)(i.I,{placeholder:"参数值",value:e.value,onChange:e=>W(t,"value",e.target.value),className:"flex-1"}),(0,s.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>G(t),className:"shrink-0",children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})})]},t))}),(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{N([...b,{key:"",value:""}])},className:"flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"}),"添加参数"]})]}),(0,s.jsxs)(u.TabsContent,{value:"headers",className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid gap-2",children:v.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(i.I,{placeholder:"Header名",value:e.key,onChange:e=>Y(t,"key",e.target.value),className:"flex-1"}),(0,s.jsx)(i.I,{placeholder:"Header值",value:e.value,onChange:e=>Y(t,"value",e.target.value),className:"flex-1"}),(0,s.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>M(t),className:"shrink-0",children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})})]},t))}),(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{w([...v,{key:"",value:""}])},className:"flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"}),"添加Header"]})]}),(0,s.jsx)(u.TabsContent,{value:"body",className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c._,{className:"flex items-center",children:"请求体类型:"}),(0,s.jsxs)(o.Ph,{value:y,onValueChange:C,disabled:"GET"===e,children:[(0,s.jsx)(o.i4,{className:"w-40",children:(0,s.jsx)(o.ki,{placeholder:"选择类型"})}),(0,s.jsxs)(o.Bw,{children:[(0,s.jsx)(o.Ql,{value:"none",children:"无请求体"}),(0,s.jsx)(o.Ql,{value:"raw",children:"Raw"}),(0,s.jsx)(o.Ql,{value:"form-data",children:"Form Data"})]})]})]}),"GET"===e&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"GET请求不支持请求体"}),"raw"===y&&"GET"!==e&&(0,s.jsx)("div",{className:"grid gap-2",children:(0,s.jsx)(d.g,{placeholder:"输入原始请求体内容 (如JSON, XML, 文本等)",value:k,onChange:e=>S(e.target.value),rows:8,className:"font-mono text-sm"})}),"form-data"===y&&"GET"!==e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsx)("div",{className:"grid gap-2",children:z.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(i.I,{placeholder:"字段名",value:e.key,onChange:e=>q(t,"key",e.target.value),className:"flex-1"}),(0,s.jsx)(i.I,{placeholder:"字段值",value:e.value,onChange:e=>q(t,"value",e.target.value),className:"flex-1"}),(0,s.jsxs)(o.Ph,{value:e.type,onValueChange:e=>q(t,"type",e),children:[(0,s.jsx)(o.i4,{className:"w-24",children:(0,s.jsx)(o.ki,{placeholder:"类型"})}),(0,s.jsxs)(o.Bw,{children:[(0,s.jsx)(o.Ql,{value:"text",children:"文本"}),(0,s.jsx)(o.Ql,{value:"file",children:"文件"})]})]}),(0,s.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>X(t),className:"shrink-0",children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})})]},t))}),(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{R([...z,{key:"",value:"",type:"text"}])},className:"flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"}),"添加字段"]})]})]})}),(0,s.jsxs)(u.TabsContent,{value:"history",className:"space-y-4",children:[0===A.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"暂无请求历史记录"}):(0,s.jsx)("div",{className:"grid gap-2",children:A.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded mr-2 ".concat(e.status>=200&&e.status<300?"bg-green-100 text-green-800":e.status>=400?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.method}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e.url})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]},t))}),A.length>0&&(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>B([]),children:"清除历史记录"})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"响应"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[null!==O&&(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["响应时间: ",O,"ms"]}),I&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded ".concat(I.startsWith("2")?"bg-green-100 text-green-800":I.startsWith("4")||I.startsWith("5")?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:I})]})]}),(0,s.jsxs)(u.Tabs,{defaultValue:"body",children:[(0,s.jsxs)(u.TabsList,{className:"grid grid-cols-2",children:[(0,s.jsx)(u.TabsTrigger,{value:"body",children:"响应体"}),(0,s.jsx)(u.TabsTrigger,{value:"headers",children:"响应头"})]}),(0,s.jsx)(u.TabsContent,{value:"body",className:"space-y-2",children:F?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.g,{ref:V,value:F,readOnly:!0,rows:12,className:"font-mono text-sm"}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[(0,s.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>{F&&navigator.clipboard.writeText(F)},title:"复制",children:(0,s.jsx)(f.Z,{className:"h-4 w-4"})}),(0,s.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>{if(F){let e=new Blob([F],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="response.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}},title:"下载",children:(0,s.jsx)(p.Z,{className:"h-4 w-4"})})]})]})}):(0,s.jsx)("div",{className:"h-[200px] flex items-center justify-center border rounded-md bg-muted/20",children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:D?"正在加载响应...":"发送请求后，响应将显示在这里"})})}),(0,s.jsx)(u.TabsContent,{value:"headers",children:Object.keys(T).length>0?(0,s.jsx)("div",{className:"border rounded-md divide-y",children:Object.entries(T).map((e,t)=>{let[a,r]=e;return(0,s.jsxs)("div",{className:"flex p-2 text-sm",children:[(0,s.jsxs)("div",{className:"font-medium w-1/3",children:[a,":"]}),(0,s.jsx)("div",{className:"w-2/3 break-all",children:r})]},t)})}):(0,s.jsx)("div",{className:"h-[200px] flex items-center justify-center border rounded-md bg-muted/20",children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:D?"正在加载响应头...":"发送请求后，响应头将显示在这里"})})})]})]})]})})]})}},6522:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(2384),r=a(7797),l=a(6857),n=a(2672),i=a(4903),c=a(6736),d=a(6752),o=a(1666),u=a(8414),h=a(2866),m=a(8848),x=a(3483),g=a(1230),f=a(45),p=a(4576),j=a(1811),v=a(7436),w=a(6556);let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(v.fC,{className:(0,w.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(v.bU,{className:(0,w.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function N(){let[e,t]=(0,r.useState)("compress"),[a,v]=(0,r.useState)(null),[w,N]=(0,r.useState)(""),[y,C]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[z,R]=(0,r.useState)(!1),[F,E]=(0,r.useState)(""),[T,P]=(0,r.useState)(80),[I,U]=(0,r.useState)(""),[D,Z]=(0,r.useState)("bottomRight"),[Q,_]=(0,r.useState)(50),[O,L]=(0,r.useState)("#000000"),[A,B]=(0,r.useState)(25),[V,M]=(0,r.useState)("person"),[Y,W]=(0,r.useState)([]),[G,q]=(0,r.useState)(!1),[X,H]=(0,r.useState)("one_inch"),[J,$]=(0,r.useState)("#FFFFFF"),[K,ee]=(0,r.useState)(90),[et,ea]=(0,r.useState)(!1),[es,er]=(0,r.useState)("none"),[el,en]=(0,r.useState)(0),[ei,ec]=(0,r.useState)(0),[ed,eo]=(0,r.useState)(100),[eu,eh]=(0,r.useState)(100),[em,ex]=(0,r.useState)(!1),[eg,ef]=(0,r.useState)(0),[ep,ej]=(0,r.useState)(0),[ev,ew]=(0,r.useState)(0),[eb,eN]=(0,r.useState)(0),[ey,eC]=(0,r.useState)("free"),ek=(0,r.useRef)(null),eS=(0,r.useRef)(null),ez=(0,r.useRef)(null),eR=(0,r.useRef)(null),eF=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(ek.current){let e=ek.current.getContext("2d");e&&(e.fillStyle="#ffffff",e.fillRect(0,0,ek.current.width,ek.current.height))}if(eS.current){let e=eS.current.getContext("2d");e&&(e.fillStyle="#ffffff",e.fillRect(0,0,eS.current.width,eS.current.height))}if(ez.current){let e=ez.current.getContext("2d");e&&(e.fillStyle="#ffffff",e.fillRect(0,0,ez.current.width,ez.current.height))}},[]),(0,r.useEffect)(()=>{if(y){let t=document.createElement("img");t.crossOrigin="anonymous",t.onload=()=>{if(eF.current=t,"crop"===e&&eS.current){en(0),ec(0),eo(t.width),eh(t.height),eS.current.width=t.width,eS.current.height=t.height;let e=eS.current.getContext("2d");e&&e.drawImage(t,0,0),eT()}if("background"===e&&ez.current){ez.current.width=t.width,ez.current.height=t.height;let e=ez.current.getContext("2d");e&&e.drawImage(t,0,0)}},t.src=y}else eF.current=null},[y]),(0,r.useEffect)(()=>{if("crop"===e&&eF.current&&eS.current){eS.current.width=eF.current.width,eS.current.height=eF.current.height;let e=eS.current.getContext("2d");e&&(e.drawImage(eF.current,0,0),en(0),ec(0),eo(eF.current.width),eh(eF.current.height),eT())}if("background"===e&&eF.current&&ez.current){ez.current.width=eF.current.width,ez.current.height=eF.current.height;let e=ez.current.getContext("2d");e&&(e.drawImage(eF.current,0,0),W([]))}},[e,eF]);let eE=e=>{if(t(e),S(null),"crop"===e&&eF.current&&eS.current){eS.current.width=eF.current.width,eS.current.height=eF.current.height;let e=eS.current.getContext("2d");e&&(e.drawImage(eF.current,0,0),en(0),ec(0),eo(eF.current.width),eh(eF.current.height),eT())}if("background"===e&&eF.current&&ez.current){ez.current.width=eF.current.width,ez.current.height=eF.current.height;let e=ez.current.getContext("2d");e&&(e.drawImage(eF.current,0,0),W([]))}},eT=()=>{if(!eS.current||!eF.current)return;let e=eS.current.getContext("2d");e&&(e.clearRect(0,0,eS.current.width,eS.current.height),e.drawImage(eF.current,0,0),e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,eS.current.width,eS.current.height),e.clearRect(el,ei,ed,eu),e.strokeStyle="#ffffff",e.lineWidth=2,e.strokeRect(el,ei,ed,eu),e.fillStyle="#ffffff",e.fillRect(el-5,ei-5,10,10),e.fillRect(el+ed-5,ei-5,10,10),e.fillRect(el-5,ei+eu-5,10,10),e.fillRect(el+ed-5,ei+eu-5,10,10))},eP=()=>{ex(!1)},eI=e=>{let t=ek.current;if(!t)throw Error("Canvas 元素不存在");let a=t.getContext("2d");if(!a)throw Error("无法获取 canvas 上下文");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0),t.toDataURL("image/jpeg",T/100)},eU=e=>{let t,a;let s=ek.current;if(!s)throw Error("Canvas 元素不存在");let r=s.getContext("2d");if(!r)throw Error("无法获取 canvas 上下文");switch(s.width=e.width,s.height=e.height,r.drawImage(e,0,0),r.globalAlpha=Q/100,r.fillStyle=O,r.font="".concat(Math.max(20,e.width/20),"px Arial"),r.textAlign="center",r.textBaseline="middle",D){case"topLeft":t=.1*e.width,a=.1*e.height,r.textAlign="left";break;case"topRight":t=.9*e.width,a=.1*e.height,r.textAlign="right";break;case"center":t=e.width/2,a=e.height/2;break;case"bottomLeft":t=.1*e.width,a=.9*e.height,r.textAlign="left";break;default:t=.9*e.width,a=.9*e.height,r.textAlign="right"}let l=Number.parseInt(O.slice(1,3),16),n=Number.parseInt(O.slice(3,5),16),i=Number.parseInt(O.slice(5,7),16);return r.shadowColor=(299*l+587*n+114*i)/1e3>128?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)",r.shadowBlur=5,r.fillText(I||"水印文本",t,a),r.shadowBlur=0,r.globalAlpha=1,s.toDataURL("image/jpeg")},eD=e=>{let t=ek.current;if(!t)throw Error("Canvas 元素不存在");let a=t.getContext("2d");if(!a)throw Error("无法获取 canvas 上下文");t.width=e.width,t.height=e.height,a.drawImage(e,0,0);let s=a.getImageData(0,0,t.width,t.height),r=s.data;switch(es){case"grayscale":for(let e=0;e<r.length;e+=4){let t=(r[e]+r[e+1]+r[e+2])/3;r[e]=t,r[e+1]=t,r[e+2]=t}break;case"sepia":for(let e=0;e<r.length;e+=4){let t=r[e],a=r[e+1],s=r[e+2];r[e]=Math.min(255,.393*t+.769*a+.189*s),r[e+1]=Math.min(255,.349*t+.686*a+.168*s),r[e+2]=Math.min(255,.272*t+.534*a+.131*s)}break;case"warm":for(let e=0;e<r.length;e+=4)r[e]=Math.min(255,1.1*r[e]),r[e+2]=Math.max(0,.9*r[e+2]);break;case"cool":for(let e=0;e<r.length;e+=4)r[e]=Math.max(0,.9*r[e]),r[e+2]=Math.min(255,1.1*r[e+2]);break;case"vintage":for(let e=0;e<r.length;e+=4){let t=r[e],a=r[e+1],s=r[e+2];r[e]=Math.min(255,.9*t+.1*a),r[e+1]=Math.min(255,.8*a+.1*t),r[e+2]=Math.min(255,.8*s+.1*t)}}return a.putImageData(s,0,0),t.toDataURL("image/jpeg")},eZ=e=>{let t=ek.current;if(!t)throw Error("Canvas 元素不存在");let a=t.getContext("2d");if(!a)throw Error("无法获取 canvas 上下文");return t.width=ed,t.height=eu,a.drawImage(e,el,ei,ed,eu,0,0,ed,eu),t.toDataURL("image/jpeg")},eQ=async e=>{try{ea(!0);let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let a=t.getContext("2d");if(!a)throw Error("无法创建canvas上下文");a.drawImage(e,0,0);let s=await new Promise((e,a)=>{t.toBlob(t=>{t?e(t):a(Error("无法创建Blob"))},"image/jpeg",.95)}),r=new FormData;r.append("size","auto"),r.append("image_file",s);let l=await fetch("https://api.remove.bg/v1.0/removebg",{method:"POST",headers:{"X-Api-Key":"KGszoignmpiDQKfTteagrL7o"},body:r});if(!l.ok){let e=await l.text();throw Error("API请求失败: ".concat(l.status," ").concat(l.statusText," - ").concat(e))}let n=await l.arrayBuffer(),i=new Blob([n],{type:"image/png"}),c=URL.createObjectURL(i);if(G)return await e_(c);return c}catch(e){return console.error("Remove.bg API调用失败:",e),E("API调用失败: ".concat(e instanceof Error?e.message:"未知错误")),null}finally{ea(!1)}},e_=async e=>new Promise((t,a)=>{let s=new Image;s.onload=()=>{let e,r,l,n;let i=document.createElement("canvas"),c=eO(X);i.width=c.width,i.height=c.height;let d=i.getContext("2d");if(!d){a(Error("无法创建画布上下文"));return}d.fillStyle=J,d.fillRect(0,0,i.width,i.height);let o=s.width/s.height;o>i.width/i.height?(r=(e=.9*i.width)/o,l=(i.width-e)/2,n=(i.height-r)*.4):(e=(r=.9*i.height)*o,l=(i.width-e)/2,n=(i.height-r)*.2),d.drawImage(s,l,n,e,r),t(i.toDataURL("image/jpeg",K/100))},s.onerror=()=>{a(Error("加载透明背景图像失败"))},s.src=e}),eO=e=>{let t={one_inch:{width:295,height:413},two_inch:{width:413,height:579},small_two_inch:{width:413,height:531},passport:{width:354,height:472},visa:{width:601,height:601}};return t[e]||t.one_inch};return(0,s.jsxs)(l.Zb,{className:"mt-4 mx-auto w-full max-w-[1200px] min-h-[calc(100vh-2rem)]",children:[(0,s.jsxs)(l.Ol,{className:"md:px-6",children:[(0,s.jsx)(l.ll,{children:"图片处理工具"}),(0,s.jsx)(l.SZ,{children:"压缩图片、添加水印、移除背景、滤镜处理、裁剪"})]}),(0,s.jsx)(l.aY,{className:"md:px-6",children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 md:flex-wrap md:overflow-visible scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[(0,s.jsxs)(n.z,{variant:"compress"===e?"default":"outline",size:"sm",onClick:()=>eE("compress"),className:"flex-shrink-0 items-center gap-1 whitespace-nowrap min-w-[100px] justify-center",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"图片压缩"]}),(0,s.jsxs)(n.z,{variant:"watermark"===e?"default":"outline",size:"sm",onClick:()=>eE("watermark"),className:"flex-shrink-0 items-center gap-1 whitespace-nowrap min-w-[100px] justify-center",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"添加水印"]}),(0,s.jsxs)(n.z,{variant:"background"===e?"default":"outline",size:"sm",onClick:()=>eE("background"),className:"flex-shrink-0 items-center gap-1 whitespace-nowrap min-w-[100px] justify-center",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),"抠图/免冠照"]}),(0,s.jsxs)(n.z,{variant:"filter"===e?"default":"outline",size:"sm",onClick:()=>eE("filter"),className:"flex-shrink-0 items-center gap-1 whitespace-nowrap min-w-[100px] justify-center",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),"滤镜效果"]}),(0,s.jsxs)(n.z,{variant:"crop"===e?"default":"outline",size:"sm",onClick:()=>eE("crop"),className:"flex-shrink-0 items-center gap-1 whitespace-nowrap min-w-[100px] justify-center",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),"裁剪图片"]})]}),F&&(0,s.jsx)(j.bZ,{variant:"destructive",children:(0,s.jsx)(j.X,{children:F})}),(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsx)("div",{className:"border-2 border-dashed rounded-md p-4 md:p-6 flex flex-col items-center justify-center min-h-[200px] md:min-h-[300px]",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]){let t=e.dataTransfer.files[0];v(t),N(t.name),E(""),S(null);let a=new FileReader;a.onload=e=>{e.target&&e.target.result&&C(e.target.result)},a.readAsDataURL(t)}},children:a?(0,s.jsxs)("div",{className:"text-center w-full",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("img",{src:y||"/placeholder.svg",alt:"Preview",className:"max-w-full max-h-[200px] md:max-h-[300px] rounded-md object-contain"})}),(0,s.jsx)("div",{className:"max-w-full px-4",children:(0,s.jsx)("p",{className:"font-medium mb-2 overflow-hidden text-ellipsis whitespace-nowrap",children:w})}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>{v(null),N(""),C(null),S(null)},className:"w-full mx-auto max-w-[200px]",children:"移除"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2 text-center",children:"拖放图片到这里或点击选择"}),(0,s.jsx)(n.z,{variant:"outline",onClick:()=>{eR.current&&eR.current.click()},className:"w-full mx-auto max-w-[200px]",children:"选择图片"}),(0,s.jsx)("input",{ref:eR,type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];v(t),N(t.name),E(""),S(null);let a=new FileReader;a.onload=e=>{e.target&&e.target.result&&C(e.target.result)},a.readAsDataURL(t)}},accept:".jpg,.jpeg,.png,.gif,.webp"})]})}),a&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:["compress"===e&&(0,s.jsxs)("div",{className:"grid gap-2 md:col-span-2",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)(c._,{children:["质量: ",T,"%"]})}),(0,s.jsx)(i.i,{value:[T],min:10,max:100,step:1,onValueChange:e=>P(e[0]),className:"w-full"})]}),"watermark"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"watermarkText",children:"水印文字"}),(0,s.jsx)(d.I,{id:"watermarkText",value:I,onChange:e=>U(e.target.value),placeholder:"输入水印文字"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"watermarkColor",children:"水印颜色"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.I,{id:"watermarkColor",type:"color",value:O,onChange:e=>L(e.target.value),className:"w-12 h-10 p-1"}),(0,s.jsx)(d.I,{type:"text",value:O,onChange:e=>L(e.target.value),className:"flex-1"})]})]})]}),"background"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(b,{id:"id-photo-mode",checked:G,onCheckedChange:q}),(0,s.jsx)(c._,{htmlFor:"id-photo-mode",children:"生成免冠照模式"})]}),(0,s.jsx)("div",{className:"grid gap-4 mt-2",children:G&&(0,s.jsxs)("div",{className:"mt-4 border-t pt-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"免冠照片设置"}),(0,s.jsx)("div",{className:"grid gap-4",children:(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{children:"照片规格"}),(0,s.jsxs)(p.Ph,{value:X,onValueChange:H,children:[(0,s.jsx)(p.i4,{children:(0,s.jsx)(p.ki,{placeholder:"选择照片规格"})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"one_inch",children:"一寸照 (25mm \xd7 35mm)"}),(0,s.jsx)(p.Ql,{value:"two_inch",children:"二寸照 (35mm \xd7 49mm)"}),(0,s.jsx)(p.Ql,{value:"small_two_inch",children:"小二寸 (35mm \xd7 45mm)"}),(0,s.jsx)(p.Ql,{value:"passport",children:"护照照 (33mm \xd7 48mm)"}),(0,s.jsx)(p.Ql,{value:"visa",children:"签证照 (51mm \xd7 51mm)"})]})]}),(0,s.jsx)(c._,{children:"背景颜色"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(d.I,{type:"color",value:J,onChange:e=>$(e.target.value),className:"w-12 h-8 p-0 border-0"}),(0,s.jsx)(d.I,{type:"text",value:J,onChange:e=>$(e.target.value),className:"flex-grow",placeholder:"#FFFFFF"}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>$("#FFFFFF"),children:"白色"}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>$("#0000FF"),children:"蓝色"}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>$("#FF0000"),children:"红色"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[(0,s.jsx)(n.z,{variant:"outline",size:"sm",className:"h-8 p-0",style:{backgroundColor:"#87CEEB"},onClick:()=>$("#87CEEB")}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",className:"h-8 p-0",style:{backgroundColor:"#90EE90"},onClick:()=>$("#90EE90")}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",className:"h-8 p-0",style:{backgroundColor:"#FFB6C1"},onClick:()=>$("#FFB6C1")}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",className:"h-8 p-0",style:{backgroundColor:"#D8BFD8"},onClick:()=>$("#D8BFD8")})]}),(0,s.jsxs)(c._,{children:["照片质量 (",K,"%)"]}),(0,s.jsx)(i.i,{value:[K],min:10,max:100,step:1,onValueChange:e=>ee(e[0])})]})})]})})]}),"filter"===e&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"filterType",children:"滤镜类型"}),(0,s.jsxs)(p.Ph,{value:es,onValueChange:er,children:[(0,s.jsx)(p.i4,{id:"filterType",children:(0,s.jsx)(p.ki,{placeholder:"选择滤镜类型"})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"none",children:"无"}),(0,s.jsx)(p.Ql,{value:"grayscale",children:"黑白"}),(0,s.jsx)(p.Ql,{value:"sepia",children:"复古"}),(0,s.jsx)(p.Ql,{value:"warm",children:"暖色调"}),(0,s.jsx)(p.Ql,{value:"cool",children:"冷色调"}),(0,s.jsx)(p.Ql,{value:"vintage",children:"老照片"})]})]})]}),"crop"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"cropAspectRatio",children:"裁剪比例"}),(0,s.jsxs)(p.Ph,{value:ey,onValueChange:eC,children:[(0,s.jsx)(p.i4,{id:"cropAspectRatio",children:(0,s.jsx)(p.ki,{placeholder:"选择裁剪比例"})}),(0,s.jsxs)(p.Bw,{children:[(0,s.jsx)(p.Ql,{value:"free",children:"自由裁剪"}),(0,s.jsx)(p.Ql,{value:"1:1",children:"1:1 (正方形)"}),(0,s.jsx)(p.Ql,{value:"4:3",children:"4:3 (标准)"}),(0,s.jsx)(p.Ql,{value:"16:9",children:"16:9 (宽屏)"})]})]})]}),(0,s.jsxs)("div",{className:"relative border rounded-md overflow-hidden",children:[(0,s.jsx)("canvas",{ref:eS,className:"max-w-full h-auto cursor-crosshair",onMouseDown:e=>{if(!eS.current||!eF.current)return;let t=eS.current.getBoundingClientRect(),a=eS.current.width/t.width,s=eS.current.height/t.height,r=(e.clientX-t.left)*a,l=(e.clientY-t.top)*s;ex(!0),ef(r),ej(l),ew(r),eN(l)},onMouseMove:e=>{if(!em||!eS.current||!eF.current)return;let t=eS.current.getBoundingClientRect(),a=eS.current.width/t.width,s=eS.current.height/t.height,r=(e.clientX-t.left)*a,l=(e.clientY-t.top)*s;ew(r),eN(l);let n=Math.min(ep,eb),i=Math.abs(ev-eg),c=Math.abs(eb-ep);if("free"!==ey){let e="1:1"===ey?1:"4:3"===ey?4/3:"16:9"===ey?16/9:1;n+(c=i/e)>eS.current.height&&(i=(c=eS.current.height-n)*e)}en(Math.min(eg,ev)),ec(n),eo(i),eh(c),eT()},onMouseUp:eP,onMouseLeave:eP}),(0,s.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"在图像上拖动鼠标来选择裁剪区域"})]})]})]}),(0,s.jsxs)(n.z,{onClick:()=>{if(!a||!eF.current){E("请先选择图片");return}R(!0),E(""),S(null),(async()=>{try{let t=null;switch(e){case"compress":default:t=eI(eF.current);break;case"watermark":t=eU(eF.current);break;case"background":t=await eQ(eF.current);break;case"filter":t=eD(eF.current);break;case"crop":t=eZ(eF.current)}S(t)}catch(e){console.error("图片处理错误:",e),E("图片处理错误: ".concat(e instanceof Error?e.message:"未知错误"))}finally{R(!1)}})()},disabled:z||et,className:"flex items-center justify-center gap-2 w-full mx-auto max-w-md",children:[(z||et)&&(0,s.jsx)(g.Z,{className:"h-4 w-4 animate-spin"}),z||et?"处理中...":"处理图片"]}),k&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsx)("div",{className:"border rounded-md p-2 flex justify-center bg-gray-50",children:(0,s.jsx)("img",{src:k,alt:"处理后的图片",className:"max-w-full max-h-[300px] md:max-h-[400px] rounded-md object-contain"})}),"background"===e&&G&&(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"border rounded-md p-2",children:[(0,s.jsx)("p",{className:"text-xs text-center mb-2",children:"带背景证件照"}),(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[150px] md:min-h-[200px]",style:{backgroundColor:J},children:(0,s.jsx)("img",{src:k,alt:"证件照",className:"max-h-[150px] md:max-h-[200px] rounded-md"})})]}),(0,s.jsxs)("div",{className:"border rounded-md p-2",children:[(0,s.jsx)("p",{className:"text-xs text-center mb-2",children:"抠图结果(PNG)"}),(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[150px] md:min-h-[200px] bg-gray-200 rounded-md",children:(0,s.jsx)("img",{src:k.includes("data:image/jpeg")?k.replace("data:image/jpeg","data:image/png"):k,alt:"抠图结果",className:"max-h-[150px] md:max-h-[200px]"})})]})]}),(0,s.jsxs)(n.z,{id:"downloadBtn",onClick:()=>{if(k)try{let t=/MicroMessenger/i.test(navigator.userAgent),a=document.createElement("a"),s="".concat(w.split(".")[0]||"image","_").concat({compress:"压缩",watermark:"水印",background:G?"证件照":"抠图",filter:"".concat(es,"滤镜"),crop:"裁剪"}[e]||"",".").concat("background"===e?"png":"jpg");/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)?fetch(k).then(e=>e.blob()).then(e=>{if(t){let t=window.URL.createObjectURL(e),a=document.createElement("img");a.src=t,a.style.display="none",document.body.appendChild(a);let s=document.createElement("div");s.style.cssText="\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                background: rgba(0, 0, 0, 0.8);\n                color: white;\n                padding: 10px 20px;\n                border-radius: 5px;\n                z-index: 9999;\n                text-align: center;\n              ",s.innerHTML="长按图片保存到手机",document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s),document.body.removeChild(a),window.URL.revokeObjectURL(t)},3e3)}else if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){let t=window.URL.createObjectURL(e);window.open(t,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(t),100)}else{let t=window.URL.createObjectURL(e);a.href=t,a.download=s,a.style.display="none",document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),window.URL.revokeObjectURL(t)},100)}}).catch(e=>{console.error("下载文件失败:",e),E("下载文件失败，请重试")}):(a.href=k,a.download=s,a.style.display="none",document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a)},100))}catch(e){console.error("下载出错:",e),E("下载出错，请重试")}},className:"flex items-center justify-center gap-2 w-full mx-auto max-w-md",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),"background"===e&&G?"下载照片":"下载处理后的图片"]})]})]})]})]})}),(0,s.jsx)("canvas",{ref:ek,className:"hidden"}),(0,s.jsx)("canvas",{ref:eS,className:"hidden"}),(0,s.jsx)("canvas",{ref:ez,className:"hidden"})]})}b.displayName=v.fC.displayName},3200:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(2384),r=a(7797),l=a(6857),n=a(2672),i=a(5205),c=a(2594),d=a(9402),o=a(7900),u=a(2364),h=a(1230),m=a(5396),x=a(45),g=a(4576),f=a(4558),p=a(1811),j=a(2834);function v(){let[e,t]=(0,r.useState)("text"),[a,v]=(0,r.useState)(null),[w,b]=(0,r.useState)(""),[N,y]=(0,r.useState)(null),[C,k]=(0,r.useState)(""),[S,z]=(0,r.useState)(!1),[R,F]=(0,r.useState)(0),[E,T]=(0,r.useState)("zh"),[P,I]=(0,r.useState)(""),[U,D]=(0,r.useState)(!1),[Z,Q]=(0,r.useState)(""),[_,O]=(0,r.useState)(!0),L=(0,r.useRef)(null),A=(0,r.useRef)(null),B=(0,r.useRef)(null),V=e=>{if(I(""),k(""),Q(""),e.target.files&&e.target.files[0]){let t=e.target.files[0];if(!t.type.startsWith("image/")){I("请选择图片文件");return}v(t),b(t.name);let a=new FileReader;a.onload=e=>{e.target&&e.target.result&&y(e.target.result)},a.readAsDataURL(t)}},M=async()=>{try{D(!0);let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});A.current&&(A.current.srcObject=e)}catch(e){console.error("无法访问相机:",e),I("无法访问相机，请确保已授予相机权限"),D(!1)}},Y=()=>{A.current&&A.current.srcObject&&(A.current.srcObject.getTracks().forEach(e=>e.stop()),A.current.srcObject=null),D(!1)},W=async()=>{if(!a){I("请先选择或拍摄图片");return}z(!0),F(10),k(""),Q(""),I("");try{let e;if("object"==typeof a&&null!==a)e=a;else if(N){let t=await fetch(N);e=await t.blob()}else throw Error("无法获取图像");F(20);let t=new FormData;t.append("apikey","K85936701788957"),t.append("language","zh"===E?"chs":"eng"),t.append("isOverlayRequired","false"),t.append("iscreatesearchablepdf","false"),t.append("issearchablepdfhidetextlayer","false"),t.append("OCREngine","2"),t.append("detectOrientation","true"),t.append("scale","true"),t.append("file",e,w||"image.jpg"),F(40);let s=await fetch("https://api.ocr.space/parse/image",{method:"POST",body:t});if(!s.ok)throw Error("API请求失败: ".concat(s.status," ").concat(s.statusText));F(80);let r=await s.json();if(console.log("OCR结果:",r),r.IsErroredOnProcessing)throw Error(r.ErrorMessage||"API处理出错");if(!r.ParsedResults||0===r.ParsedResults.length)throw Error("未能识别任何文本");let l=r.ParsedResults[0].ParsedText||"";("zh"===E||"auto"===E)&&(l=(l=(l=(l=l.trim()).replace(/([^\x00-\xff])\s+(?=[^\x00-\xff])/g,"$1").replace(/\n{3,}/g,"\n\n")).replace(/(\d+)\s*[.．]\s*(\d+)\s*[元圆]/g,"$1.$2元").replace(/(\d+)\s+(\d+)/g,"$1$2")).replace(/[存在在有]\s*(\d+)\s*[项个]\s*[信息值增值]/g,"存在$1项增值").replace(/[总总合][计计]\s*[金额金額]?\s*[:|：]?\s*(\d+\.\d+)\s*元/g,"总计金额: $1元").replace(/个[入人]\s*支付/g,"个人支付")),k(l),F(100),z(!1)}catch(e){console.error("OCR识别出错:",e),I("OCR识别出错: ".concat(e.message||"未知错误")),z(!1),F(0)}},G=async()=>{if(C)try{await navigator.clipboard.writeText(C),I("")}catch(t){console.error("复制失败:",t);let e=document.createElement("textarea");e.value=C,document.body.appendChild(e),e.select();try{document.execCommand("copy"),I("")}catch(e){console.error("备用复制方法也失败:",e),I("复制失败，请手动选择并复制")}document.body.removeChild(e)}},q=async()=>{if(C){z(!0),I("");try{let e=await fetch("https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=".concat("zh"===E?"en":"zh","&dt=t&q=").concat(encodeURIComponent(C)));if(!e.ok)throw Error("翻译请求失败");let t=await e.json();if(!t||!t[0]||!t[0][0])throw Error("翻译结果格式错误");let a=t[0][0][0];Q(a)}catch(e){console.error("翻译失败:",e),I("翻译失败，请重试"),Q("")}finally{z(!1)}}},X=async()=>{if(Z)try{await navigator.clipboard.writeText(Z),I("")}catch(t){console.error("复制翻译结果失败:",t);let e=document.createElement("textarea");e.value=Z,document.body.appendChild(e),e.select();try{document.execCommand("copy"),I("")}catch(e){console.error("备用复制方法也失败:",e),I("复制失败，请手动选择并复制")}document.body.removeChild(e)}};return(0,s.jsxs)(l.Zb,{className:"mt-4",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"文字识别 (OCR) 工具"}),(0,s.jsx)(l.SZ,{children:"拍照识别文字、表格转Excel、翻译结果"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[P&&(0,s.jsx)(p.bZ,{variant:"destructive",children:(0,s.jsx)(p.X,{children:P})}),(0,s.jsxs)(f.Tabs,{defaultValue:"capture",className:"w-full",children:[(0,s.jsxs)(f.TabsList,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(f.TabsTrigger,{value:"capture",children:"拍照识别"}),(0,s.jsx)(f.TabsTrigger,{value:"upload",children:"上传图片"})]}),(0,s.jsx)(f.TabsContent,{value:"capture",className:"pt-4",children:(0,s.jsx)("div",{className:"border-2 border-dashed rounded-md p-4 flex flex-col items-center justify-center",children:U?(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsx)("video",{ref:A,autoPlay:!0,playsInline:!0,className:"w-full rounded-md"})}),(0,s.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,s.jsx)(n.z,{onClick:()=>{if(A.current)try{let e=B.current;if(!e)throw Error("Canvas 元素不存在");let t=e.getContext("2d");if(!t)throw Error("无法获取 canvas 上下文");e.width=A.current.videoWidth,e.height=A.current.videoHeight,t.drawImage(A.current,0,0,e.width,e.height);let a=e.toDataURL("image/jpeg");Y(),y(a),v(!0),b("相机拍摄.jpg")}catch(e){console.error("捕获图像时出错:",e),I("捕获图像时出错，请重试")}},children:"拍照"}),(0,s.jsx)(n.z,{variant:"outline",onClick:Y,children:"取消"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"点击下方按钮打开相机"}),(0,s.jsxs)(n.z,{onClick:M,className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"打开相机"]})]})})}),(0,s.jsx)(f.TabsContent,{value:"upload",className:"pt-4",children:(0,s.jsx)("div",{className:"border-2 border-dashed rounded-md p-6 flex flex-col items-center justify-center",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]&&(e.dataTransfer.files[0],V({target:{files:e.dataTransfer.files}}))},children:a?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("img",{src:N||"/placeholder.svg",alt:"Preview",className:"max-w-full max-h-48 mb-4 rounded-md"}),(0,s.jsx)("p",{className:"font-medium mb-2",children:w}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>{v(null),b(""),y(null),k(""),Q("")},children:"移除"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"拖放图片到这里或点击选择"}),(0,s.jsx)(n.z,{variant:"outline",onClick:()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.click()},children:"选择图片"}),(0,s.jsx)("input",{ref:L,type:"file",className:"hidden",onChange:V,accept:".jpg,.jpeg,.png"})]})})})]}),a&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,s.jsxs)(n.z,{variant:"text"===e?"default":"outline",size:"sm",onClick:()=>t("text"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),"普通文本"]}),(0,s.jsxs)(n.z,{variant:"table"===e?"default":"outline",size:"sm",onClick:()=>t("table"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"表格识别"]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"识别语言"}),(0,s.jsxs)(g.Ph,{value:E,onValueChange:T,children:[(0,s.jsx)(g.i4,{children:(0,s.jsx)(g.ki,{placeholder:"选择语言"})}),(0,s.jsxs)(g.Bw,{children:[(0,s.jsx)(g.Ql,{value:"zh",children:"中文"}),(0,s.jsx)(g.Ql,{value:"en",children:"英文"}),(0,s.jsx)(g.Ql,{value:"ja",children:"日文"}),(0,s.jsx)(g.Ql,{value:"ko",children:"韩文"}),(0,s.jsx)(g.Ql,{value:"auto",children:"自动检测"})]})]})]}),(0,s.jsx)(n.z,{onClick:W,disabled:S||!_,children:_?S?"识别中...":"开始识别":"引擎加载中..."}),S&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(j.E,{value:R,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:[R,"%"]})]}),C&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"识别结果"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-1",children:[(0,s.jsx)(u.Z,{className:"h-3 w-3"}),"复制"]}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",onClick:q,disabled:S,className:"flex items-center gap-1",children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"h-3 w-3 animate-spin"}),"翻译中..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{className:"h-3 w-3"}),"翻译"]})}),(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{if(!C)return;let t=Z||C,a=new Blob([t],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="table"===e?"表格数据.csv":"识别文本.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)},className:"flex items-center gap-1",children:[(0,s.jsx)(x.Z,{className:"h-3 w-3"}),"下载"]})]})]}),(0,s.jsx)(i.g,{value:C,onChange:e=>k(e.target.value),rows:6,className:"".concat("table"===e?"font-mono text-sm":""),placeholder:"识别结果将显示在这里"}),Z&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"翻译结果"}),(0,s.jsxs)(n.z,{variant:"outline",size:"sm",onClick:X,className:"flex items-center gap-1",children:[(0,s.jsx)(u.Z,{className:"h-3 w-3"}),"复制翻译"]})]}),(0,s.jsx)(i.g,{value:Z,onChange:e=>Q(e.target.value),rows:6})]})]})]})]})}),(0,s.jsx)("canvas",{ref:B,className:"hidden",width:"800",height:"600"})]})}},3142:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(2384),r=a(7797),l=a(6857),n=a(6752),i=a(6736),c=a(2672),d=a(4576),o=a(4475),u=a(7669),h=a(4683),m=a(1218),x=a(45),g=a(5205);function f(){let[e,t]=(0,r.useState)("text"),[a,f]=(0,r.useState)(""),[p,j]=(0,r.useState)("#000000"),[v,w]=(0,r.useState)("#FFFFFF"),[b,N]=(0,r.useState)("200"),[y,C]=(0,r.useState)(!1),[k,S]=(0,r.useState)(""),[z,R]=(0,r.useState)(""),[F,E]=(0,r.useState)(""),[T,P]=(0,r.useState)("WPA"),[I,U]=(0,r.useState)(""),[D,Z]=(0,r.useState)(""),[Q,_]=(0,r.useState)(""),[O,L]=(0,r.useState)(""),A=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),(0,s.jsxs)(l.Zb,{className:"mt-4",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"二维码生成器"}),(0,s.jsx)(l.SZ,{children:"生成文本、链接、WiFi密码、名片等二维码"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,s.jsxs)(c.z,{variant:"text"===e?"default":"outline",size:"sm",onClick:()=>t("text"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"文本"]}),(0,s.jsxs)(c.z,{variant:"url"===e?"default":"outline",size:"sm",onClick:()=>t("url"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"网址"]}),(0,s.jsxs)(c.z,{variant:"wifi"===e?"default":"outline",size:"sm",onClick:()=>t("wifi"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),"WiFi"]}),(0,s.jsxs)(c.z,{variant:"contact"===e?"default":"outline",size:"sm",onClick:()=>t("contact"),className:"flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),"名片"]})]}),"text"===e&&(0,s.jsx)("div",{className:"grid gap-4",children:(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"qrContent",children:"文本内容"}),(0,s.jsx)(g.g,{id:"qrContent",value:a,onChange:e=>f(e.target.value),placeholder:"输入要转换为二维码的文本",rows:3})]})}),"url"===e&&(0,s.jsx)("div",{className:"grid gap-4",children:(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"qrUrl",children:"网址"}),(0,s.jsx)(n.I,{id:"qrUrl",type:"url",value:a,onChange:e=>f(e.target.value),placeholder:"https://example.com"})]})}),"wifi"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"wifiName",children:"WiFi名称"}),(0,s.jsx)(n.I,{id:"wifiName",value:z,onChange:e=>R(e.target.value),placeholder:"输入WiFi名称"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"wifiPassword",children:"WiFi密码"}),(0,s.jsx)(n.I,{id:"wifiPassword",type:"password",value:F,onChange:e=>E(e.target.value),placeholder:"输入WiFi密码"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"wifiEncryption",children:"加密类型"}),(0,s.jsxs)(d.Ph,{value:T,onValueChange:P,children:[(0,s.jsx)(d.i4,{id:"wifiEncryption",children:(0,s.jsx)(d.ki,{placeholder:"选择加密类型"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"WPA",children:"WPA/WPA2"}),(0,s.jsx)(d.Ql,{value:"WEP",children:"WEP"}),(0,s.jsx)(d.Ql,{value:"nopass",children:"无密码"})]})]})]})]}),"contact"===e&&(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"contactName",children:"姓名"}),(0,s.jsx)(n.I,{id:"contactName",value:I,onChange:e=>U(e.target.value),placeholder:"输入姓名"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"contactPhone",children:"电话"}),(0,s.jsx)(n.I,{id:"contactPhone",value:D,onChange:e=>Z(e.target.value),placeholder:"输入电话号码"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"contactEmail",children:"邮箱"}),(0,s.jsx)(n.I,{id:"contactEmail",type:"email",value:Q,onChange:e=>_(e.target.value),placeholder:"输入邮箱地址"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"contactCompany",children:"公司"}),(0,s.jsx)(n.I,{id:"contactCompany",value:O,onChange:e=>L(e.target.value),placeholder:"输入公司名称"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"qrColor",children:"前景色"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.I,{id:"qrColor",type:"color",value:p,onChange:e=>j(e.target.value),className:"w-12 h-10 p-1"}),(0,s.jsx)(n.I,{type:"text",value:p,onChange:e=>j(e.target.value),className:"flex-1"})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"qrBgColor",children:"背景色"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.I,{id:"qrBgColor",type:"color",value:v,onChange:e=>w(e.target.value),className:"w-12 h-10 p-1"}),(0,s.jsx)(n.I,{type:"text",value:v,onChange:e=>w(e.target.value),className:"flex-1"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i._,{htmlFor:"qrSize",children:"尺寸 (像素)"}),(0,s.jsx)(n.I,{id:"qrSize",type:"number",value:b,onChange:e=>N(e.target.value),min:"100",max:"500",step:"10"})]}),(0,s.jsx)(c.z,{onClick:()=>{let t="";switch(e){case"text":case"url":default:t=a;break;case"wifi":t="WIFI:S:".concat(z,";T:").concat(T,";P:").concat(F,";;");break;case"contact":t="BEGIN:VCARD\nVERSION:3.0\nN:".concat(I,"\nTEL:").concat(D,"\nEMAIL:").concat(Q,"\nORG:").concat(O,"\nEND:VCARD")}if(!t){alert("请输入内容");return}if(window.QRCode){let e=A.current;if(e){let a=e.getContext("2d");a&&a.clearRect(0,0,e.width,e.height),window.QRCode.toCanvas(e,t,{width:Number.parseInt(b),margin:1,color:{dark:p,light:v}},t=>{t?(console.error(t),alert("生成二维码时出错")):(C(!0),S(e.toDataURL("image/png")))})}}else C(!0)},children:"生成二维码"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,s.jsx)("canvas",{ref:A,width:Number.parseInt(b),height:Number.parseInt(b),className:"border rounded-md p-4 ".concat(y?"":"hidden"),style:{backgroundColor:v}}),!y&&(0,s.jsx)("div",{className:"border rounded-md p-4 flex items-center justify-center",style:{width:"".concat(Number.parseInt(b),"px"),height:"".concat(Number.parseInt(b),"px"),maxWidth:"100%",backgroundColor:v},children:(0,s.jsx)(o.Z,{size:.6*Number.parseInt(b),color:p})}),y&&(0,s.jsxs)(c.z,{variant:"outline",onClick:()=>{if(k){let e=document.createElement("a");e.download="qrcode.png",e.href=k,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},className:"flex gap-2 items-center",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),"下载二维码"]})]})]})})]})}},8033:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(2384),r=a(7797),l=a(6857),n=a(2672),i=a(5205),c=a(6736),d=a(4903),o=a(4576),u=a(9684),h=a(2598),m=a(9848),x=a(45),g=a(1811);function f(){let[e,t]=(0,r.useState)(""),[a,f]=(0,r.useState)(!1),[p,j]=(0,r.useState)(!1),[v,w]=(0,r.useState)([]),[b,N]=(0,r.useState)(""),[y,C]=(0,r.useState)(1),[k,S]=(0,r.useState)(1),[z,R]=(0,r.useState)(1),[F,E]=(0,r.useState)(""),[T,P]=(0,r.useState)(""),I=(0,r.useRef)(null),U=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("speechSynthesis"in window){I.current=window.speechSynthesis;let e=()=>{let e=I.current.getVoices();if(e.length>0){let t=e.filter(e=>e.lang.includes("zh")||e.lang.includes("en")||e.lang.includes("ja")||e.lang.includes("ko"));w(t);let a=t.find(e=>e.lang.includes("zh"))||t[0];a&&N(a.name)}};I.current.onvoiceschanged=e,e()}else E("您的浏览器不支持语音合成功能");return()=>{I.current&&I.current.cancel()}},[]);let D=async()=>{if(!e.trim()){E("请输入要转换的文本");return}try{let e=new(window.AudioContext||window.webkitAudioContext)().createMediaStreamDestination(),t=new MediaRecorder(e.stream),a=[];t.ondataavailable=e=>{e.data.size>0&&a.push(e.data)},t.onstop=()=>{let e=new Blob(a,{type:"audio/wav"}),t=URL.createObjectURL(e);P(t)},t.start(),setTimeout(()=>{t.stop(),setTimeout(()=>{alert("注意：这是一个演示版本，生成的音频文件是模拟的。在实际应用中，应使用专业的TTS API来生成真实的音频文件。")},500)},2e3)}catch(e){console.error("生成音频文件时出错:",e),E("生成音频文件时出错，请重试")}};return(0,s.jsxs)(l.Zb,{className:"mt-4",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"文字转语音"}),(0,s.jsx)(l.SZ,{children:"将文本转换为语音，支持多种语音包和调整"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[F&&(0,s.jsx)(g.bZ,{variant:"destructive",children:(0,s.jsx)(g.X,{children:F})}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"text",children:"输入文本"}),(0,s.jsx)(i.g,{id:"text",value:e,onChange:e=>t(e.target.value),placeholder:"输入要转换为语音的文本",rows:5})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"voice",children:"选择语音"}),(0,s.jsxs)(o.Ph,{value:b,onValueChange:N,children:[(0,s.jsx)(o.i4,{id:"voice",children:(0,s.jsx)(o.ki,{placeholder:"选择语音包"})}),(0,s.jsx)(o.Bw,{children:v.map(e=>(0,s.jsxs)(o.Ql,{value:e.name,children:[e.name," (",e.lang,")"]},e.name))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)(c._,{htmlFor:"rate",children:["语速: ",y.toFixed(1)]})}),(0,s.jsx)(d.i,{id:"rate",value:[y],min:.5,max:2,step:.1,onValueChange:e=>C(e[0])})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)(c._,{htmlFor:"pitch",children:["音调: ",k.toFixed(1)]})}),(0,s.jsx)(d.i,{id:"pitch",value:[k],min:.5,max:2,step:.1,onValueChange:e=>S(e[0])})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)(c._,{htmlFor:"volume",children:["音量: ",(100*z).toFixed(0),"%"]})}),(0,s.jsx)(d.i,{id:"volume",value:[z],min:0,max:1,step:.1,onValueChange:e=>R(e[0])})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.z,{onClick:()=>{if(!I.current){E("语音合成功能不可用");return}if(!e.trim()){E("请输入要转换的文本");return}I.current.cancel();let t=new SpeechSynthesisUtterance(e);if(U.current=t,b){let e=v.find(e=>e.name===b);e&&(t.voice=e)}t.rate=y,t.pitch=k,t.volume=z,t.onstart=()=>{f(!0),j(!1)},t.onend=()=>{f(!1),j(!1)},t.onerror=e=>{console.error("语音合成错误:",e),E("语音合成过程中出错"),f(!1),j(!1)},I.current.speak(t)},disabled:a&&!p,className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"播放"]}),a&&(0,s.jsxs)(n.z,{onClick:()=>{I.current&&(p?(I.current.resume(),j(!1)):(I.current.pause(),j(!0)))},variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),p?"继续":"暂停"]}),(0,s.jsxs)(n.z,{onClick:D,variant:"outline",className:"flex items-center gap-2 ml-auto",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),"生成音频"]})]}),T&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("audio",{src:T,controls:!0,className:"w-full"}),(0,s.jsxs)(n.z,{onClick:()=>{if(!T)return;let e=document.createElement("a");e.href=T,e.download="语音合成.wav",document.body.appendChild(e),e.click(),document.body.removeChild(e)},variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),"下载音频文件"]})]})]})})]})}},1811:function(e,t,a){"use strict";a.d(t,{X:function(){return d},bZ:function(){return c}});var s=a(2384),r=a(7797),l=a(8702),n=a(6556);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:r}),a),...l})});c.displayName="Alert",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})}).displayName="AlertTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...r})});d.displayName="AlertDescription"},2672:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var s=a(2384),r=a(7797),l=a(7638),n=a(8702),i=a(6556);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...o}=e,u=d?l.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:r,size:n,className:a})),ref:t,...o})});d.displayName="Button"},6857:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var s=a(2384),r=a(7797),l=a(6556);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},6752:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var s=a(2384),r=a(7797),l=a(6556);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});n.displayName="Input"},6736:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var s=a(2384),r=a(7797),l=a(2034),n=a(8702),i=a(6556);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.f,{ref:t,className:(0,i.cn)(c(),a),...r})});d.displayName=l.f.displayName},2834:function(e,t,a){"use strict";a.d(t,{E:function(){return i}});var s=a(2384),r=a(7797),l=a(9680),n=a(6556);let i=r.forwardRef((e,t)=>{let{className:a,value:r,...i}=e;return(0,s.jsx)(l.fC,{ref:t,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...i,children:(0,s.jsx)(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});i.displayName=l.fC.displayName},4576:function(e,t,a){"use strict";a.d(t,{Bw:function(){return g},Ph:function(){return o},Ql:function(){return f},i4:function(){return h},ki:function(){return u}});var s=a(2384),r=a(7797),l=a(7830),n=a(800),i=a(4430),c=a(9354),d=a(6556);let o=l.fC;l.ZA;let u=l.B4,h=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(l.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,s.jsx)(l.JO,{asChild:!0,children:(0,s.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=l.xz.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=l.u_.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=l.$G.displayName;let g=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...i}=e;return(0,s.jsx)(l.h_,{children:(0,s.jsxs)(l.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,s.jsx)(m,{}),(0,s.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(x,{})]})})});g.displayName=l.VY.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=l.__.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.wU,{children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(l.eT,{children:r})]})});f.displayName=l.ck.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.Z0.displayName},4903:function(e,t,a){"use strict";a.d(t,{i:function(){return i}});var s=a(2384),r=a(7797),l=a(7397),n=a(6556);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(l.fC,{ref:t,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,s.jsx)(l.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(l.e6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(l.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});i.displayName=l.fC.displayName},4558:function(e,t,a){"use strict";a.r(t),a.d(t,{Tabs:function(){return i},TabsContent:function(){return o},TabsList:function(){return c},TabsTrigger:function(){return d}});var s=a(2384),r=a(7797),l=a(4120),n=a(6556);let i=l.fC,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=l.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=l.xz.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=l.VY.displayName},5205:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});var s=a(2384),r=a(7797),l=a(6556);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});n.displayName="Textarea"},6556:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(317),r=a(8595);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[328,653,848,744],function(){return e(e.s=5865)}),_N_E=e.O()}]);